// HashRouter.js Library for hash-based routing.
// https://github.com/ahabra/hash-router
// Copyright 2021 (C) Abdul Habra. Version 0.1.5.
// Apache License Version 2.0


var HashRouter=(()=>{var _=Object.defineProperty;var D=(e,t)=>{for(var n in t)_(e,n,{get:t[n],enumerable:!0})};var xe={};D(xe,{createRouter:()=>H});var I=Object.defineProperty,l=(e,t)=>{for(var n in t)I(e,n,{get:t[n],enumerable:!0})},B={};l(B,{add:()=>J,all:()=>b,classPresentIf:()=>V,createElement:()=>G,createElements:()=>v,first:()=>z,getAttributes:()=>k,id:()=>U,removeElements:()=>Q,setContent:()=>K,tag:()=>E});var X={};l(X,{equals:()=>O,forEachEntry:()=>m,has:()=>ee,isDate:()=>p,isFunction:()=>L,isInteger:()=>Z,isNil:()=>Y,isNumber:()=>x,isRegExp:()=>S,isString:()=>c});function Y(e){return e==null}function c(e){return f(e,"String")}function L(e){return f(e,"Function")}function p(e){return f(e,"Date")}function x(e){return f(e,"Number")?Number.isNaN(e)?!1:Number.isFinite(e):!c(e)||(e=e.trim(),e==="")?!1:!isNaN(e)}function Z(e){return x(e)?Number.isInteger(Number.parseFloat(e)):!1}function S(e){return f(e,"RegExp")}function f(e,t){return Object.prototype.toString.call(e)===`[object ${t}]`}function m(e,t){if(!(!e||!t)){if(Array.isArray(e)){e.forEach((n,r)=>{t(r,n)});return}Object.entries(e).forEach(n=>t(n[0],n[1]))}}function ee(e,t){return!e||!t?!1:Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){return e===t?!0:e===void 0||t===void 0?!1:te(e,t)}function te(e,t){return R(e)||R(t)?e===t:ne(e,t)}var re=new Set(["boolean","number","bigint","string","symbol"]);function R(e){return re.has(typeof e)}function ne(e,t){return ie(e,t)?ue(e,t)?!0:se(e,t):!1}function ie(e,t){return C(e)===C(t)}function C(e){return Object.prototype.toString.call(e)}function ue(e,t){return p(e)&&p(t)?e.getTime()===t.getTime():!1}function se(e,t){let n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(r=>O(e[r],t[r]))}function U(e,t=document){return g(t)&&(t=t.shadowRoot),t.getElementById(e)}function b(e,t=document){return g(t)&&(t=t.shadowRoot),Array.from(t.querySelectorAll(e))}function z(e,t=document){if(g(t)&&(t=t.shadowRoot),!e.includes("/"))return t.querySelector(e);let n=e.split("/").map(r=>r.trim()).filter(r=>r.length>0);for(let r of n)if(t=oe(r,t),t===null)break;return t}function oe(e,t){return e==="shadowRoot"||e==="shadow-root"?t.shadowRoot:t.querySelector(e)}function g(e){return e&&e.shadowRoot&&e.tagName.includes("-")}function k(e){let t={},n=e.attributes;if(!n||n.length===0)return t;for(let r=0;r<n.length;r++){let i=n[r];t[i.name]=i.value}return t}function v(e=""){if(e=e.trim(),!e)return[];let t=document.createElement("template");return t.innerHTML=e,Array.from(t.content.childNodes)}function G(e,t={},n=""){let r=E(e,t,n),i=v(r);return i.length===0?null:i[0]}function E(e,t={},n=""){if(!e)return"";let r=fe(t);return`<${e}${r}>${n}</${e}>`}function fe(e){let t=[];return m(e,(r,i)=>{t.push(`${r}="${i}"`)}),(t.length>0?" ":"")+t.join(" ")}var ae=new Set(["beforebegin","afterbegin","beforeend","afterend"]);function J(e,t,n="beforeend"){return n=n.toLowerCase(),ae.has(n)?(c(t)?e.insertAdjacentHTML(n,t):le(e,t,n),!0):!1}function le(e,t,n){Array.isArray(t)?t.forEach(r=>e.insertAdjacentElement(n,r)):e.insertAdjacentElement(n,t)}function K(e,...t){e.innerHTML="",e.append(...t)}function Q(e,t=document){b(e,t).forEach(r=>{r.parentNode.removeChild(r)})}function V(e,t,n){if(!e)return;let r=n?"add":"remove";e.classList[r](t)}var s={};l(s,{endsWith:()=>P,indexOf:()=>d,indexOfFirstMatch:()=>ce,indexOfLastMatch:()=>he,isEmpty:()=>j,removePrefix:()=>A,removeSuffix:()=>T,removeSurrounding:()=>pe,replaceAll:()=>$,replaceTemplate:()=>de,startsWith:()=>N,substringAfter:()=>me,substringBefore:()=>ge,trim:()=>y});function d(e,t,n=0,r=!1){return e?r?e.toLowerCase().indexOf(t.toLowerCase(),n):e.indexOf(t,n):-1}function ce(e,t){return!t||!e?-1:e.split("").findIndex(t)}function he(e,t){if(!t||!e)return-1;let n=e.split("");for(let r=n.length;r>=0;--r)if(t(n[r],r))return r;return-1}function N(e="",t=void 0,n=!1){if(n){let r=e.substring(0,t.length).toLowerCase();return t.toLowerCase()===r}return e.startsWith(t)}function P(e,t,n=!1){return n?e.toLowerCase().endsWith(t.toLowerCase()):e.endsWith(t)}function A(e,t,n=!1){return N(e,t,n)&&(e=e.substring(t.length)),e}function T(e,t,n=!1){return P(e,t,n)&&(e=e.substring(0,e.length-t.length)),e}function pe(e,t,n,r=!1){return T(A(e,t,r),n,r)}function me(e,t,n=!1){if(!t)return e;let r=d(e,t,0,n);return r<0?"":e.substring(r+t.length)}function ge(e,t,n=!1){if(!t)return"";let r=d(e,t,0,n);return r<0?e:e.substring(0,r)}function y(e){return j(e)?"":(c(e)||(e=String(e)),e.trim(e))}function j(e){return e==null||e===""}function $(e,t,n){if(L(String.prototype.replaceAll))return e.replaceAll(t,n);if(S(t))return e.replace(t,n);let r=new RegExp(t,"g");return e.replace(r,n)}function de(e="",t={},n="${",r="}"){return m(t,(i,u)=>{u!==void 0&&(i=n+i+r,e=$(e,i,u))}),e}var ye={};l(ye,{compareLines:()=>we});function we(e,t,{trim:n=!0,skipEmpty:r=!0,caseSensitive:i=!0}={trim:!0,skipEmpty:!0,caseSensitive:!0}){if(e=M(e,{trim:n,skipEmpty:r}),t=M(t,{trim:n,skipEmpty:r}),e.length!==t.length)return`t1 has ${e.length} lines(s) while t2 has ${t.length} line(s).`;for(let u=0;u<e.length;u++){let o=be(e[u],t[u],u,i);if(o.length>0)return o}return""}function be(e,t,n,r){let i=r?e:e.toLowerCase(),u=r?t:t.toLowerCase();return i!==u?`Line #${n+1} mismatch.
${e}
${t}`:""}function M(e,{trim:t,skipEmpty:n}){return t&&(e=y(e)),e=e.split(`
`),t&&(e=e.map(r=>y(r))),n&&(e=e.filter(r=>!!r)),e}function h(e){return e=s.substringAfter(e,"#"),a(e)}function a(e){let t=i=>i!=="/"&&i!=="#",n=s.indexOfFirstMatch(e,t),r=s.indexOfLastMatch(e,t);return e.substring(n,r)}var w=class{constructor(t){this.parts=ve(t)}isMatch(t,n={}){let r=W(t);if(this.parts.length!==r.length)return!1;for(let i=0;i<r.length;i++){let u=this.parts[i],o=r[i];if(!Ee(u,o))return!1;u.type==="param"&&(n[u.value]=o)}return!0}};function ve(e){return W(e).map(t=>Le(t))}function W(e){return a(e).split("/").map(t=>t.trim()).filter(t=>t.length>0)}function Le(e){if(e.startsWith(":"))return{type:"param",value:e.substring(1)};if(e.startsWith("[")&&e.endsWith("]")){let t=e.substring(1,e.length-1);return{type:"regex",value:new RegExp(t)}}return{type:"string",value:e}}function Ee(e,t){return e.type==="param"?!0:e.type==="string"?t===e.value:e.type==="regex"?e.value.test(t):!1}function H(){return new q}var q=class{constructor(){this.routes=[];let t=r=>F(r,this.routes),n=r=>F(r,this.routes,!0);window.addEventListener("hashchange",t,!1),window.addEventListener("load",n,!1)}add(t,n){this.routes.push({route:new w(t),handler:n})}go(t){t="#"+a(t);let r=s.substringBefore(window.location.href,"#")+t;window.history.pushState(null,null,t),window.location.href=r}};function F(e,t,n=!1){let r=Se(e,n);if(!r)return;let i={},u=Oe(t,r,i);u&&u(r,i)}function Se(e,t){if(t)return h(e.target.location.href);let n=h(e.oldURL),r=h(e.newURL);return n===r?"":r}function Oe(e,t,n){let r=e.find(i=>i.route.isMatch(t,n));return r?r.handler:!1}return xe;})();
